import { send } from "../utilities"; // מייבא את פונקציית send לשליחת בקשות לשרת
// פונקציה לשמירת השוואה במסד הנתונים
async function saveComparisonToHistory(winner, categories) {
    const userId = localStorage.getItem("userId"); // מקבל את userId מהאחסון המקומי
    if (!userId)
        return; // אם אין משתמש מחובר, יוצא מהפונקציה
    await send("saveComparison", {
        userId,
        leftCar: currentCar1,
        rightCar: currentCar2,
        winner,
        categoriesJson: JSON.stringify(categories), // ממיר את אובייקט הקטגוריות ל־JSON
    });
}
// הגדרת אלמנטים לבחירת רכבים
const selectcar1 = document.getElementById("selectcar1");
const selectcar2 = document.getElementById("selectcar2");
// תיבות להצגת פרטי הרכב
const div1 = document.getElementById("div1");
const div2 = document.getElementById("div2");
const div3 = document.getElementById("div3");
const div4 = document.getElementById("div4");
const div5 = document.getElementById("div5");
const div6 = document.getElementById("div6");
const div7 = document.getElementById("div7");
const div8 = document.getElementById("div8");
let currentCar1 = selectcar1.value;
let currentCar2 = selectcar2.value;
// מאגר רכבים
const carData = {
    lamborgini: {
        model: "Aventador",
        price: "2,500,000$",
        year: "2023",
        Horsepower: "770"
    },
    cadilac: {
        model: "ATS-V",
        price: "85,000$",
        year: "2022",
        Horsepower: "564"
    },
    kia: {
        model: "Sportage",
        price: "30,000$",
        year: "2021",
        Horsepower: "150"
    },
    mizubishi: {
        model: "Outlander",
        price: "28,000$",
        year: "2022",
        Horsepower: "210"
    }
};
// עדכון פרטי השוואה
function updateComparison() {
    [div1, div2, div3, div4, div5, div6, div7, div8].forEach(div => {
        div.style.color = "";
    });
    const car1 = carData[currentCar1.toLowerCase()];
    const car2 = carData[currentCar2.toLowerCase()];
    if (car1) {
        div1.textContent = car1.model;
        div3.textContent = car1.price;
        div5.textContent = car1.year;
        div7.textContent = car1.Horsepower;
    }
    if (car2) {
        div2.textContent = car2.model;
        div4.textContent = car2.price;
        div6.textContent = car2.year;
        div8.textContent = car2.Horsepower;
    }
}
// כאשר המשתמש משנה את הבחירה
selectcar1.onchange = function () {
    currentCar1 = selectcar1.value;
    updateComparison();
    resetAllCompareStyles();
};
selectcar2.onchange = function () {
    currentCar2 = selectcar2.value;
    updateComparison();
    resetAllCompareStyles();
};
const compareButton = document.getElementById("comparebutton");
// כפתור השוואה
compareButton.onclick = function () {
    const categoryResults = {};
    const results = [
        ["div3", "div4", true, "price"],
        ["div5", "div6", false, "year"],
        ["div7", "div8", false, "horsepower"]
    ];
    for (const [id1, id2, lowerIsBetter, label] of results) {
        const outcome = compareValues(id1, id2, lowerIsBetter);
        categoryResults[label] = outcome;
    }
    // חישוב מנצח
    let winner = "tie";
    const score = { [currentCar1]: 0, [currentCar2]: 0 };
    for (const result of Object.values(categoryResults)) {
        if (result === "left")
            score[currentCar1]++;
        else if (result === "right")
            score[currentCar2]++;
    }
    if (score[currentCar1] > score[currentCar2])
        winner = currentCar1;
    else if (score[currentCar2] > score[currentCar1])
        winner = currentCar2;
    saveComparisonToHistory(winner, categoryResults);
};
// איפוס סגנונות של תוצאה
function resetAllCompareStyles() {
    document.querySelectorAll(".winner, .equal, .compared").forEach(el => {
        el.classList.remove("winner", "equal", "compared");
        el.style.color = "";
    });
}
// השוואת ערכים
function compareValues(id1, id2, lowerIsBetter) {
    const el1 = document.getElementById(id1);
    const el2 = document.getElementById(id2);
    const val1 = parseValue(el1.textContent || "");
    const val2 = parseValue(el2.textContent || "");
    el1.classList.remove("winner", "equal");
    el2.classList.remove("winner", "equal");
    el1.classList.add("compared");
    el2.classList.add("compared");
    if (val1 === val2) {
        el1.classList.add("equal");
        el2.classList.add("equal");
        return "equal";
    }
    else if ((val1 < val2) === lowerIsBetter) {
        el1.classList.add("winner");
        el2.style.color = "red";
        return "left";
    }
    else {
        el2.classList.add("winner");
        el1.style.color = "red";
        return "right";
    }
}
// המרה של טקסט למספר
function parseValue(text) {
    const cleaned = text.replace(/[^\d.]/g, "");
    const parsed = parseFloat(cleaned);
    return isNaN(parsed) ? 0 : parsed;
}
// הוספת רכב חדש
const addCarButton = document.getElementById("addCarButton");
const popup = document.getElementById("carPopup");
const closePopupButton = document.getElementById("closePopupButton");
const submitCarButton = document.getElementById("submitCarButton");
addCarButton.onclick = () => popup.classList.remove("hidden");
closePopupButton.onclick = () => popup.classList.add("hidden");
submitCarButton.onclick = async () => {
    const userId = localStorage.getItem("userId");
    if (!userId) {
        alert("You need to be logged in.");
        return;
    }
    const name = document.getElementById("inputCarName").value.trim();
    const model = document.getElementById("inputModel").value.trim();
    const price = parseInt(document.getElementById("inputPrice").value);
    const year = parseInt(document.getElementById("inputYear").value);
    const Horsepower = document.getElementById("inputHorsepower").value.trim();
    if (!name || !model || !Horsepower || isNaN(price) || isNaN(year)) {
        alert("Fill in all fields correctly.");
        return;
    }
    const response = await send("addcar", {
        userId,
        name,
        model,
        price,
        year,
        Horsepower,
    });
    if (response.success) {
        const option1 = document.createElement("option");
        option1.value = name;
        option1.textContent = name;
        selectcar1.appendChild(option1);
        const option2 = document.createElement("option");
        option2.value = name;
        option2.textContent = name;
        selectcar2.appendChild(option2);
        carData[name.toLowerCase()] = { model, price: price + "$", year: year.toString(), Horsepower };
        popup.classList.add("hidden");
    }
    else {
        alert("Failed to add car.");
    }
};
// כפתור יציאה
let logOutButton = document.getElementById("logOutButton");
logOutButton.onclick = async function () {
    localStorage.removeItem("userId");
    location.href = "index.html";
};
// טעינת רכבים מהשרת כשהדף נטען
window.onload = async () => {
    const userId = localStorage.getItem("userId");
    if (!userId)
        return;
    const response = await send("getcars", { userId });
    if (!response?.cars)
        return;
    for (const car of response.cars) {
        const name = car.name;
        carData[name.toLowerCase()] = {
            model: car.model,
            price: car.price + "$",
            year: car.year.toString(),
            Horsepower: car.Horsepower
        };
        const option1 = document.createElement("option");
        option1.value = name;
        option1.textContent = name;
        selectcar1.appendChild(option1);
        const option2 = document.createElement("option");
        option2.value = name;
        option2.textContent = name;
        selectcar2.appendChild(option2);
    }
};
// ברכה למשתמש
async function showWelcomeUser() {
    const userId = localStorage.getItem("userId");
    if (!userId)
        return;
    const response = await send("getusername", userId);
    if (response && response.username) {
        const welcomeDiv = document.getElementById("welcomeUser");
        if (welcomeDiv) {
            welcomeDiv.textContent = `Welcome ${response.username}!`;
        }
    }
}
showWelcomeUser();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcGFyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNvbXBhcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQyxDQUFDLDJDQUEyQztBQUVoRixxQ0FBcUM7QUFDckMsS0FBSyxVQUFVLHVCQUF1QixDQUFDLE1BQWMsRUFBRSxVQUFrQztJQUNyRixNQUFNLE1BQU0sR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsZ0NBQWdDO0lBQy9FLElBQUksQ0FBQyxNQUFNO1FBQUUsT0FBTyxDQUFDLHFDQUFxQztJQUUxRCxNQUFNLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtRQUN6QixNQUFNO1FBQ04sT0FBTyxFQUFFLFdBQVc7UUFDcEIsUUFBUSxFQUFFLFdBQVc7UUFDckIsTUFBTTtRQUNOLGNBQWMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxFQUFFLG1DQUFtQztLQUNsRixDQUFDLENBQUM7QUFDUCxDQUFDO0FBRUQsNkJBQTZCO0FBQzdCLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFzQixDQUFDO0FBQzlFLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFzQixDQUFDO0FBRTlFLHdCQUF3QjtBQUN4QixNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBRSxDQUFDO0FBQzlDLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFFLENBQUM7QUFDOUMsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUUsQ0FBQztBQUM5QyxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBRSxDQUFDO0FBQzlDLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMs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